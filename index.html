<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pay.i - Employer Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
            color: #1a1a2e;
            min-height: 100vh;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 0 30px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            display: flex;
            align-items: center;
            gap: 2px;
        }

        .logo-arrow {
            color: #f4d03f;
            font-size: 0.8rem;
            margin: 0 1px;
        }

        .nav-tabs {
            display: flex;
            gap: 5px;
        }

        .nav-tab {
            padding: 8px 20px;
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            border-radius: 8px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .nav-tab:hover {
            color: white;
            background: rgba(255,255,255,0.1);
        }

        .nav-tab.active {
            color: white;
            background: rgba(255,255,255,0.15);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .security-badge {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .security-badge.clear {
            background: rgba(39, 174, 96, 0.2);
            color: #27ae60;
        }

        .security-badge.warning {
            background: rgba(243, 156, 18, 0.2);
            color: #f39c12;
        }

        .security-badge.alert {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .security-badge:hover {
            transform: scale(1.05);
        }

        .company-selector {
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            font-size: 0.9rem;
            cursor: pointer;
            padding: 6px 12px;
            border-radius: 8px;
            transition: background 0.2s;
        }

        .company-selector:hover {
            background: rgba(255,255,255,0.1);
        }

        /* Main Content */
        .main-content {
            margin-top: 60px;
            padding: 30px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Dashboard Cards */
        .welcome-header {
            margin-bottom: 30px;
        }

        .welcome-header h1 {
            font-size: 1.8rem;
            font-weight: 600;
            color: #1a1a2e;
        }

        .welcome-header p {
            color: #666;
            margin-top: 5px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .stat-card .label {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 8px;
        }

        .stat-card .value {
            font-size: 2rem;
            font-weight: 700;
            color: #1a1a2e;
        }

        .stat-card .sub {
            font-size: 0.8rem;
            color: #999;
            margin-top: 4px;
        }

        .stat-card.highlight {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        }

        .stat-card.highlight .label,
        .stat-card.highlight .value,
        .stat-card.highlight .sub {
            color: white;
        }

        .stat-card.highlight .value {
            color: #f4d03f;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
        }

        .card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-header h3 {
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-header .action {
            color: #3498db;
            font-size: 0.85rem;
            cursor: pointer;
            text-decoration: none;
        }

        .card-header .action:hover {
            text-decoration: underline;
        }

        /* Action Items */
        .action-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .action-item:last-child {
            border-bottom: none;
        }

        .action-item .left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .action-item .icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .action-item .icon.orange { background: rgba(243, 156, 18, 0.1); }
        .action-item .icon.green { background: rgba(39, 174, 96, 0.1); }
        .action-item .icon.blue { background: rgba(52, 152, 219, 0.1); }
        .action-item .icon.purple { background: rgba(155, 89, 182, 0.1); }

        .action-item .info h4 {
            font-size: 0.95rem;
            font-weight: 500;
        }

        .action-item .info p {
            font-size: 0.8rem;
            color: #888;
            margin-top: 2px;
        }

        .action-item .amount {
            font-weight: 600;
            color: #1a1a2e;
        }

        /* Security Card */
        .security-card {
            background: linear-gradient(135deg, #0a1f1a 0%, #051510 100%);
            border: 1px solid rgba(39, 174, 96, 0.3);
        }

        .security-card .card-header h3 {
            color: #27ae60;
        }

        .security-card .card-header .action {
            color: #27ae60;
        }

        .security-status {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 16px;
            background: rgba(39, 174, 96, 0.1);
            border-radius: 10px;
            margin-bottom: 16px;
        }

        .security-status.clear {
            color: #27ae60;
        }

        .security-status .check {
            font-size: 1.2rem;
        }

        .security-status .text {
            font-size: 0.9rem;
        }

        .security-status .time {
            margin-left: auto;
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .scan-schedule {
            margin-top: 16px;
        }

        .scan-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 0;
            color: rgba(255,255,255,0.7);
            font-size: 0.85rem;
        }

        .scan-item .time {
            width: 70px;
            color: rgba(255,255,255,0.5);
        }

        .scan-item .status {
            margin-left: auto;
        }

        .scan-item .status.done { color: #27ae60; }
        .scan-item .status.pending { color: rgba(255,255,255,0.4); }

        .protection-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 20px;
            padding-top: 16px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .protection-stat {
            text-align: center;
        }

        .protection-stat .value {
            font-size: 1.4rem;
            font-weight: 700;
            color: #f4d03f;
        }

        .protection-stat .label {
            font-size: 0.75rem;
            color: rgba(255,255,255,0.5);
            margin-top: 4px;
        }

        /* Upcoming */
        .upcoming-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .upcoming-item:last-child {
            border-bottom: none;
        }

        .upcoming-item .date {
            width: 50px;
            text-align: center;
        }

        .upcoming-item .date .day {
            font-size: 1.4rem;
            font-weight: 700;
            color: #1a1a2e;
        }

        .upcoming-item .date .month {
            font-size: 0.7rem;
            color: #999;
            text-transform: uppercase;
        }

        .upcoming-item .info h4 {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .upcoming-item .info p {
            font-size: 0.8rem;
            color: #888;
        }

        /* Buttons */
        .btn {
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #f4d03f 0%, #f39c12 100%);
            color: #1a1a2e;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(244, 208, 63, 0.4);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #1a1a2e;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .btn-success {
            background: linear-gradient(135deg, #27ae60 0%, #16a085 100%);
            color: white;
        }

        /* People Tab */
        .tab-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .tab-header h2 {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .tab-header .actions {
            display: flex;
            gap: 10px;
        }

        .filter-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 20px;
            background: white;
            padding: 6px;
            border-radius: 12px;
            width: fit-content;
        }

        .filter-tab {
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.85rem;
            cursor: pointer;
            color: #666;
            transition: all 0.2s;
        }

        .filter-tab:hover {
            background: #f5f5f5;
        }

        .filter-tab.active {
            background: #1a1a2e;
            color: white;
        }

        .people-list {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .person-row {
            display: flex;
            align-items: center;
            padding: 16px 24px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
        }

        .person-row:hover {
            background: #fafafa;
        }

        .person-row:last-child {
            border-bottom: none;
        }

        .person-avatar {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
            margin-right: 16px;
        }

        .person-avatar.w2 {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .person-avatar.contractor {
            background: linear-gradient(135deg, #27ae60, #16a085);
            color: white;
        }

        .person-info {
            flex: 1;
        }

        .person-info h4 {
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .person-info .tags {
            display: flex;
            gap: 8px;
        }

        .tag {
            font-size: 0.75rem;
            padding: 3px 8px;
            border-radius: 4px;
            background: #f0f0f0;
            color: #666;
        }

        .tag.w2 { background: rgba(52, 152, 219, 0.1); color: #3498db; }
        .tag.contractor { background: rgba(39, 174, 96, 0.1); color: #27ae60; }
        .tag.daily-pay { background: rgba(155, 89, 182, 0.1); color: #9b59b6; }

        .person-pay {
            text-align: right;
            margin-right: 20px;
        }

        .person-pay .amount {
            font-size: 1rem;
            font-weight: 600;
        }

        .person-pay .period {
            font-size: 0.75rem;
            color: #999;
        }

        .person-status {
            font-size: 0.8rem;
            color: #888;
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(20px);
            transition: transform 0.3s;
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            padding: 24px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .modal-close {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            background: #f0f0f0;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-body {
            padding: 24px;
        }

        .modal-footer {
            padding: 20px 24px;
            border-top: 1px solid #f0f0f0;
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-size: 0.85rem;
            font-weight: 500;
            margin-bottom: 8px;
            color: #333;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 0.95rem;
            transition: border-color 0.2s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #3498db;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .type-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .type-option {
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
        }

        .type-option:hover {
            border-color: #bbb;
        }

        .type-option.selected {
            border-color: #3498db;
            background: rgba(52, 152, 219, 0.05);
        }

        .type-option .icon {
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .type-option h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .type-option p {
            font-size: 0.8rem;
            color: #888;
        }

        /* Progress Steps */
        .progress-steps {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .step {
            display: flex;
            align-items: center;
        }

        .step-circle {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: 600;
            background: #e0e0e0;
            color: #999;
        }

        .step.active .step-circle {
            background: #3498db;
            color: white;
        }

        .step.done .step-circle {
            background: #27ae60;
            color: white;
        }

        .step-line {
            width: 60px;
            height: 2px;
            background: #e0e0e0;
            margin: 0 8px;
        }

        .step.done + .step .step-line,
        .step.done .step-line {
            background: #27ae60;
        }

        /* AI Contract Generation */
        .ai-generating {
            text-align: center;
            padding: 40px;
        }

        .ai-generating .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid #f0f0f0;
            border-top-color: #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .ai-generating h3 {
            font-size: 1.2rem;
            margin-bottom: 8px;
        }

        .ai-generating p {
            color: #888;
        }

        .contract-preview {
            background: #fafafa;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            font-size: 0.9rem;
            line-height: 1.6;
            max-height: 300px;
            overflow-y: auto;
        }

        .contract-preview h4 {
            font-size: 1rem;
            margin-bottom: 12px;
            color: #1a1a2e;
        }

        .contract-preview .clause {
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e8e8e8;
        }

        .contract-preview .clause:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        /* Security Alert Modal */
        .alert-modal .modal {
            border-top: 4px solid #f39c12;
        }

        .alert-content {
            background: rgba(243, 156, 18, 0.05);
            border: 1px solid rgba(243, 156, 18, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .alert-content h4 {
            color: #f39c12;
            font-size: 1rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .comparison-box {
            background: white;
            border-radius: 8px;
            padding: 12px;
            margin-top: 12px;
        }

        .comparison-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
            font-size: 0.9rem;
        }

        .comparison-item:last-child {
            border-bottom: none;
        }

        .confidence-bar {
            margin-top: 16px;
        }

        .confidence-bar label {
            font-size: 0.85rem;
            color: #666;
        }

        .confidence-track {
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-top: 8px;
            overflow: hidden;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #f39c12, #e74c3c);
            border-radius: 4px;
        }

        .alert-actions {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .alert-btn {
            padding: 12px;
            border-radius: 10px;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.2s;
        }

        .alert-btn:hover {
            background: #f5f5f5;
        }

        .alert-btn.danger {
            background: rgba(231, 76, 60, 0.1);
            border-color: rgba(231, 76, 60, 0.3);
            color: #e74c3c;
        }

        .alert-btn.danger:hover {
            background: rgba(231, 76, 60, 0.2);
        }

        /* Toggle Switch */
        .toggle {
            width: 50px;
            height: 28px;
            background: #e0e0e0;
            border-radius: 14px;
            cursor: pointer;
            position: relative;
            transition: background 0.2s;
        }

        .toggle.active {
            background: #27ae60;
        }

        .toggle::after {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: transform 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .toggle.active::after {
            transform: translateX(22px);
        }

        /* Security Center Page */
        .security-page-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 30px;
        }

        .security-page-header .shield {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #27ae60, #16a085);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }

        .security-page-header h2 {
            font-size: 1.8rem;
            font-weight: 600;
        }

        .security-page-header p {
            color: #666;
        }

        .scan-schedule-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
        }

        .scan-timeline {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .scan-slot {
            flex: 1;
            text-align: center;
            position: relative;
        }

        .scan-slot::after {
            content: '';
            position: absolute;
            top: 20px;
            right: 0;
            width: 100%;
            height: 2px;
            background: #e0e0e0;
            z-index: 0;
        }

        .scan-slot:last-child::after {
            display: none;
        }

        .scan-slot .time-badge {
            position: relative;
            z-index: 1;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 8px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .scan-slot .time-badge.done {
            background: #27ae60;
            color: white;
        }

        .scan-slot .time-badge.pending {
            background: #e0e0e0;
            color: #999;
        }

        .scan-slot .time-badge.next {
            background: rgba(52, 152, 219, 0.1);
            color: #3498db;
            border: 2px dashed #3498db;
        }

        .scan-slot .label {
            font-size: 0.8rem;
            color: #666;
        }

        .scan-slot .result {
            font-size: 0.75rem;
            color: #27ae60;
            margin-top: 4px;
        }

        .protection-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        .protection-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            text-align: center;
        }

        .protection-card .value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #27ae60;
        }

        .protection-card .label {
            color: #666;
            margin-top: 8px;
        }

        .protection-card.highlight {
            background: linear-gradient(135deg, #27ae60, #16a085);
        }

        .protection-card.highlight .value,
        .protection-card.highlight .label {
            color: white;
        }

        .activity-log {
            background: white;
            border-radius: 16px;
            padding: 24px;
        }

        .activity-log h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .log-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .log-item:last-child {
            border-bottom: none;
        }

        .log-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }

        .log-icon.success { background: rgba(39, 174, 96, 0.1); }
        .log-icon.warning { background: rgba(243, 156, 18, 0.1); }

        .log-content {
            flex: 1;
        }

        .log-content .title {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .log-content .desc {
            font-size: 0.8rem;
            color: #888;
            margin-top: 2px;
        }

        .log-time {
            font-size: 0.8rem;
            color: #999;
        }

        /* Payables Tab */
        .payables-queue {
            background: white;
            border-radius: 16px;
            overflow: hidden;
        }

        .queue-header {
            padding: 20px 24px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .queue-header h3 {
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .queue-header .total {
            font-size: 1.4rem;
            font-weight: 700;
            color: #f4d03f;
        }

        .invoice-row {
            display: flex;
            align-items: center;
            padding: 16px 24px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
        }

        .invoice-row:hover {
            background: #fafafa;
        }

        .invoice-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: rgba(244, 208, 63, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            margin-right: 16px;
        }

        .invoice-info {
            flex: 1;
        }

        .invoice-info h4 {
            font-size: 0.95rem;
            font-weight: 500;
        }

        .invoice-info .meta {
            display: flex;
            gap: 12px;
            margin-top: 4px;
        }

        .invoice-info .meta span {
            font-size: 0.8rem;
            color: #888;
        }

        .invoice-info .meta .badge {
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
        }

        .invoice-info .meta .badge.success {
            background: rgba(39, 174, 96, 0.1);
            color: #27ae60;
        }

        .invoice-info .meta .badge.warning {
            background: rgba(243, 156, 18, 0.1);
            color: #f39c12;
        }

        .invoice-amount {
            font-size: 1.1rem;
            font-weight: 600;
            margin-right: 16px;
        }

        .invoice-check {
            width: 24px;
            height: 24px;
            border: 2px solid #ddd;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            transition: all 0.2s;
        }

        .invoice-check.checked {
            background: #27ae60;
            border-color: #27ae60;
        }

        /* Onboarding */
        .onboarding-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .onboarding-card {
            background: white;
            border-radius: 24px;
            width: 90%;
            max-width: 500px;
            padding: 40px;
            text-align: center;
        }

        .onboarding-card .logo-large {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .onboarding-card h2 {
            font-size: 1.5rem;
            margin-bottom: 8px;
        }

        .onboarding-card p {
            color: #666;
            margin-bottom: 30px;
        }

        .onboarding-progress {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 30px;
        }

        .onboarding-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #e0e0e0;
        }

        .onboarding-dot.active {
            background: #f4d03f;
            width: 30px;
            border-radius: 5px;
        }

        .onboarding-dot.done {
            background: #27ae60;
        }

        .sync-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .sync-option {
            padding: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .sync-option:hover {
            border-color: #bbb;
        }

        .sync-option.selected {
            border-color: #3498db;
            background: rgba(52, 152, 219, 0.05);
        }

        .sync-option img {
            height: 30px;
            margin-bottom: 8px;
        }

        .sync-option .name {
            font-weight: 500;
            font-size: 0.9rem;
        }

        .import-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            text-align: left;
        }

        .import-option {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .import-option:hover {
            border-color: #bbb;
        }

        .import-option.selected {
            border-color: #27ae60;
            background: rgba(39, 174, 96, 0.05);
        }

        .import-option .icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .import-option .info h4 {
            font-size: 1rem;
            font-weight: 600;
        }

        .import-option .info p {
            font-size: 0.85rem;
            color: #888;
            margin-top: 2px;
        }

        .found-badge {
            background: rgba(39, 174, 96, 0.1);
            color: #27ae60;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .hidden {
            display: none !important;
        }

        /* Animations */
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Payroll Tab */
        .payroll-summary {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 16px;
            padding: 30px;
            color: white;
            margin-bottom: 20px;
        }

        .payroll-summary h3 {
            font-size: 1rem;
            opacity: 0.8;
            margin-bottom: 20px;
        }

        .payroll-breakdown {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .payroll-main .amount {
            font-size: 3rem;
            font-weight: 700;
        }

        .payroll-main .label {
            opacity: 0.7;
            margin-top: 4px;
        }

        .payroll-details {
            text-align: right;
        }

        .payroll-detail-row {
            display: flex;
            justify-content: flex-end;
            gap: 20px;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .payroll-detail-row .label {
            opacity: 0.7;
        }

        .payroll-detail-row .value {
            font-weight: 600;
            min-width: 100px;
        }

        .daily-pay-section {
            background: white;
            border-radius: 16px;
            padding: 24px;
        }

        .daily-pay-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .daily-pay-header h3 {
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .daily-pay-request {
            display: flex;
            align-items: center;
            padding: 16px;
            background: rgba(39, 174, 96, 0.05);
            border: 1px solid rgba(39, 174, 96, 0.2);
            border-radius: 12px;
            margin-bottom: 12px;
        }

        .daily-pay-request .avatar {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 16px;
        }

        .daily-pay-request .info {
            flex: 1;
        }

        .daily-pay-request .info h4 {
            font-size: 0.95rem;
            font-weight: 600;
        }

        .daily-pay-request .info p {
            font-size: 0.85rem;
            color: #888;
        }

        .daily-pay-request .amount {
            font-size: 1.2rem;
            font-weight: 700;
            color: #27ae60;
            margin-right: 16px;
        }

        .daily-pay-request .approve-btn {
            padding: 10px 20px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- Onboarding Overlay -->
    <div class="onboarding-overlay" id="onboardingOverlay">
        <div class="onboarding-card">
            <!-- Step 1: Welcome -->
            <div class="onboarding-step" id="onboardStep1">
                <div class="logo-large">Pay<span style="color: #f4d03f;">‚ñ∏</span>i</div>
                <h2>Welcome to Pay.i</h2>
                <p>Let's set up your account in about 5 minutes. You'll be running payroll and paying vendors by the end.</p>
                <div class="onboarding-progress">
                    <div class="onboarding-dot active"></div>
                    <div class="onboarding-dot"></div>
                    <div class="onboarding-dot"></div>
                    <div class="onboarding-dot"></div>
                    <div class="onboarding-dot"></div>
                </div>
                <button class="btn btn-primary" onclick="nextOnboardingStep(2)" style="width: 100%;">Get Started</button>
            </div>

            <!-- Step 2: Company Info -->
            <div class="onboarding-step hidden" id="onboardStep2">
                <h2>Company Information</h2>
                <p>We'll use this for tax documents and compliance.</p>
                <div class="onboarding-progress">
                    <div class="onboarding-dot done"></div>
                    <div class="onboarding-dot active"></div>
                    <div class="onboarding-dot"></div>
                    <div class="onboarding-dot"></div>
                    <div class="onboarding-dot"></div>
                </div>
                <div class="form-group" style="text-align: left;">
                    <label>Company Name</label>
                    <input type="text" value="Acme Corp" placeholder="Your company name">
                </div>
                <div class="form-group" style="text-align: left;">
                    <label>EIN</label>
                    <input type="text" value="12-3456789" placeholder="XX-XXXXXXX">
                </div>
                <div style="display: flex; gap: 12px;">
                    <button class="btn btn-secondary" onclick="nextOnboardingStep(1)" style="flex: 1;">Back</button>
                    <button class="btn btn-primary" onclick="nextOnboardingStep(3)" style="flex: 1;">Continue</button>
                </div>
            </div>

            <!-- Step 3: Connect Bank -->
            <div class="onboarding-step hidden" id="onboardStep3">
                <h2>Connect Your Bank</h2>
                <p>Securely link your bank account for payments.</p>
                <div class="onboarding-progress">
                    <div class="onboarding-dot done"></div>
                    <div class="onboarding-dot done"></div>
                    <div class="onboarding-dot active"></div>
                    <div class="onboarding-dot"></div>
                    <div class="onboarding-dot"></div>
                    <div class="onboarding-dot"></div>
                </div>
                <div style="background: #f5f7fa; border-radius: 12px; padding: 30px; margin-bottom: 20px;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">üè¶</div>
                    <div style="font-weight: 600;">Chase Business Checking</div>
                    <div style="color: #27ae60; font-size: 0.9rem; margin-top: 8px;">‚úì Connected via Plaid</div>
                    <div style="color: #888; font-size: 0.85rem;">‚Ä¢‚Ä¢‚Ä¢‚Ä¢4521</div>
                </div>
                <div style="display: flex; gap: 12px;">
                    <button class="btn btn-secondary" onclick="nextOnboardingStep(2)" style="flex: 1;">Back</button>
                    <button class="btn btn-primary" onclick="nextOnboardingStep('3b')" style="flex: 1;">Continue</button>
                </div>
            </div>

            <!-- Step 3b: Connect Crypto Wallet (Optional) -->
            <div class="onboarding-step hidden" id="onboardStep3b">
                <h2>Connect Crypto Wallet</h2>
                <p>Optional: Enable USDC payments for instant, low-cost settlement.</p>
                <div class="onboarding-progress">
                    <div class="onboarding-dot done"></div>
                    <div class="onboarding-dot done"></div>
                    <div class="onboarding-dot active"></div>
                    <div class="onboarding-dot"></div>
                    <div class="onboarding-dot"></div>
                    <div class="onboarding-dot"></div>
                </div>
                <div class="sync-options" style="margin-bottom: 16px;">
                    <div class="sync-option" onclick="selectCryptoOption(this, 'coinbase')" style="position: relative;">
                        <div style="font-size: 1.5rem;">üîµ</div>
                        <div class="name">Coinbase</div>
                        <div style="font-size: 0.7rem; color: #888;">CEX ‚Ä¢ Business Account</div>
                    </div>
                    <div class="sync-option" onclick="selectCryptoOption(this, 'metamask')" style="position: relative;">
                        <div style="font-size: 1.5rem;">ü¶ä</div>
                        <div class="name">MetaMask</div>
                        <div style="font-size: 0.7rem; color: #888;">DEX ‚Ä¢ Self-Custody</div>
                    </div>
                    <div class="sync-option" onclick="selectCryptoOption(this, 'walletconnect')" style="position: relative;">
                        <div style="font-size: 1.5rem;">üîó</div>
                        <div class="name">WalletConnect</div>
                        <div style="font-size: 0.7rem; color: #888;">DEX ‚Ä¢ Any Wallet</div>
                    </div>
                    <div class="sync-option selected" onclick="selectCryptoOption(this, 'skip')" style="position: relative;">
                        <div style="font-size: 1.5rem;">‚è≠Ô∏è</div>
                        <div class="name">Skip for Now</div>
                        <div style="font-size: 0.7rem; color: #888;">Add later in Settings</div>
                    </div>
                </div>
                <div style="background: rgba(52, 152, 219, 0.1); border: 1px solid rgba(52, 152, 219, 0.3); border-radius: 10px; padding: 12px; margin-bottom: 20px; font-size: 0.85rem; color: #2980b9;">
                    üí° <strong>Why crypto?</strong> USDC payments settle in seconds on Base L2 for under $0.01 ‚Äî perfect for contractor payments and international transfers.
                </div>
                <div style="display: flex; gap: 12px;">
                    <button class="btn btn-secondary" onclick="nextOnboardingStep(3)" style="flex: 1;">Back</button>
                    <button class="btn btn-primary" onclick="nextOnboardingStep(4)" style="flex: 1;">Continue</button>
                </div>
            </div>

            <!-- Step 4: Sync Systems -->
            <div class="onboarding-step hidden" id="onboardStep4">
                <h2>Connect Existing Systems</h2>
                <p>Import your team and vendor data automatically.</p>
                <div class="onboarding-progress">
                    <div class="onboarding-dot done"></div>
                    <div class="onboarding-dot done"></div>
                    <div class="onboarding-dot done"></div>
                    <div class="onboarding-dot active"></div>
                    <div class="onboarding-dot"></div>
                    <div class="onboarding-dot"></div>
                </div>
                <div class="sync-options">
                    <div class="sync-option selected" onclick="this.classList.toggle('selected')">
                        <div style="font-size: 1.5rem;">üìä</div>
                        <div class="name">QuickBooks</div>
                    </div>
                    <div class="sync-option" onclick="this.classList.toggle('selected')">
                        <div style="font-size: 1.5rem;">üë•</div>
                        <div class="name">Gusto</div>
                    </div>
                    <div class="sync-option" onclick="this.classList.toggle('selected')">
                        <div style="font-size: 1.5rem;">üíº</div>
                        <div class="name">ADP</div>
                    </div>
                    <div class="sync-option" onclick="this.classList.toggle('selected')">
                        <div style="font-size: 1.5rem;">‚ö°</div>
                        <div class="name">Rippling</div>
                    </div>
                </div>
                <div style="display: flex; gap: 12px;">
                    <button class="btn btn-secondary" onclick="nextOnboardingStep(3)" style="flex: 1;">Back</button>
                    <button class="btn btn-primary" onclick="nextOnboardingStep(5)" style="flex: 1;">Continue</button>
                </div>
            </div>

            <!-- Step 5: Import Team -->
            <div class="onboarding-step hidden" id="onboardStep5">
                <h2>Import Your Team</h2>
                <p>We found data in QuickBooks. How would you like to proceed?</p>
                <div class="onboarding-progress">
                    <div class="onboarding-dot done"></div>
                    <div class="onboarding-dot done"></div>
                    <div class="onboarding-dot done"></div>
                    <div class="onboarding-dot done"></div>
                    <div class="onboarding-dot active"></div>
                    <div class="onboarding-dot"></div>
                </div>
                <div class="import-options">
                    <div class="import-option selected" onclick="selectImportOption(this)">
                        <div class="icon">üîÑ</div>
                        <div class="info">
                            <h4>Sync from QuickBooks</h4>
                            <p>Import employees and contractors automatically</p>
                        </div>
                        <span class="found-badge">23 found</span>
                    </div>
                    <div class="import-option" onclick="selectImportOption(this)">
                        <div class="icon">üìÑ</div>
                        <div class="info">
                            <h4>Upload CSV</h4>
                            <p>Batch import from spreadsheet</p>
                        </div>
                    </div>
                    <div class="import-option" onclick="selectImportOption(this)">
                        <div class="icon">‚ûï</div>
                        <div class="info">
                            <h4>Start Fresh</h4>
                            <p>Add people manually later</p>
                        </div>
                    </div>
                </div>
                <div style="display: flex; gap: 12px; margin-top: 20px;">
                    <button class="btn btn-secondary" onclick="nextOnboardingStep(4)" style="flex: 1;">Back</button>
                    <button class="btn btn-success" onclick="completeOnboarding()" style="flex: 1;">üöÄ Launch Dashboard</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="logo">Pay<span class="logo-arrow">‚ñ∏</span>i</div>
        <nav class="nav-tabs">
            <div class="nav-tab active" onclick="showTab('dashboard')">Dashboard</div>
            <div class="nav-tab" onclick="showTab('people')">People</div>
            <div class="nav-tab" onclick="showTab('payables')">Payables</div>
            <div class="nav-tab" onclick="showTab('payroll')">Payroll</div>
            <div class="nav-tab" onclick="showTab('security')">Security</div>
            <div class="nav-tab" onclick="showTab('settings')">Settings</div>
        </nav>
        <div class="header-right">
            <div class="security-badge clear" onclick="showTab('security')">
                <span>üõ°Ô∏è</span>
                <span>All Clear</span>
            </div>
            <div class="company-selector">
                <span>Acme Corp</span>
                <span>‚ñº</span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Tab -->
        <div class="tab-content" id="dashboardTab">
            <div class="welcome-header">
                <h1>Good morning, Matt</h1>
                <p>Here's what's happening at Acme Corp today</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card highlight">
                    <div class="label">December Payroll</div>
                    <div class="value">$127,450</div>
                    <div class="sub">Runs automatically Friday</div>
                </div>
                <div class="stat-card">
                    <div class="label">Employees</div>
                    <div class="value">23</div>
                    <div class="sub">18 on Daily Pay</div>
                </div>
                <div class="stat-card">
                    <div class="label">Contractors</div>
                    <div class="value">8</div>
                    <div class="sub">All contracts active</div>
                </div>
                <div class="stat-card">
                    <div class="label">Pending Payables</div>
                    <div class="value">$8,597</div>
                    <div class="sub">5 invoices ready</div>
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <div class="card-header">
                        <h3>‚ö° Action Items</h3>
                        <a class="action" href="#">View All</a>
                    </div>
                    <div class="action-item">
                        <div class="left">
                            <div class="icon orange">üìÑ</div>
                            <div class="info">
                                <h4>3 invoices ready for approval</h4>
                                <p>AWS, Office Supplies, Contractor payment</p>
                            </div>
                        </div>
                        <div class="amount">$8,597</div>
                    </div>
                    <div class="action-item">
                        <div class="left">
                            <div class="icon green">‚ö°</div>
                            <div class="info">
                                <h4>2 Daily Pay requests</h4>
                                <p>Mike R. and Lisa T.</p>
                            </div>
                        </div>
                        <div class="amount">$800</div>
                    </div>
                    <div class="action-item">
                        <div class="left">
                            <div class="icon blue">‚úçÔ∏è</div>
                            <div class="info">
                                <h4>1 contract pending signature</h4>
                                <p>James K. - Development retainer</p>
                            </div>
                        </div>
                        <div class="amount">‚Äî</div>
                    </div>
                </div>

                <div class="card security-card">
                    <div class="card-header">
                        <h3>üõ°Ô∏è Guardian</h3>
                        <a class="action" onclick="showTab('security')">View All ‚Üí</a>
                    </div>
                    <div class="security-status clear">
                        <span class="check">‚úì</span>
                        <span class="text">All systems secure</span>
                        <span class="time">Last scan: 2:00 PM</span>
                    </div>
                    <div class="scan-schedule">
                        <div class="scan-item">
                            <span class="time">6:00 AM</span>
                            <span>Morning scan</span>
                            <span class="status done">‚úì Clear</span>
                        </div>
                        <div class="scan-item">
                            <span class="time">2:00 PM</span>
                            <span>Midday scan</span>
                            <span class="status done">‚úì Clear</span>
                        </div>
                        <div class="scan-item">
                            <span class="time">10:00 PM</span>
                            <span>Evening scan</span>
                            <span class="status pending">‚óã In 6 hrs</span>
                        </div>
                    </div>
                    <div class="protection-stats">
                        <div class="protection-stat">
                            <div class="value">$47,200</div>
                            <div class="label">Saved from errors</div>
                        </div>
                        <div class="protection-stat">
                            <div class="value">23</div>
                            <div class="label">Issues caught</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card" style="margin-top: 20px;">
                <div class="card-header">
                    <h3>üìÖ Upcoming</h3>
                </div>
                <div style="display: flex; gap: 30px;">
                    <div class="upcoming-item" style="flex: 1; border-bottom: none;">
                        <div class="date">
                            <div class="day">20</div>
                            <div class="month">Dec</div>
                        </div>
                        <div class="info">
                            <h4>Payroll Auto-Run</h4>
                            <p>$127,450 to 23 employees</p>
                        </div>
                    </div>
                    <div class="upcoming-item" style="flex: 1; border-bottom: none;">
                        <div class="date">
                            <div class="day">22</div>
                            <div class="month">Dec</div>
                        </div>
                        <div class="info">
                            <h4>Contractor Payments</h4>
                            <p>$12,500 to 4 contractors</p>
                        </div>
                    </div>
                    <div class="upcoming-item" style="flex: 1; border-bottom: none;">
                        <div class="date">
                            <div class="day">31</div>
                            <div class="month">Jan</div>
                        </div>
                        <div class="info">
                            <h4>1099s Due</h4>
                            <p>8 forms ready to send</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- People Tab -->
        <div class="tab-content hidden" id="peopleTab">
            <div class="tab-header">
                <h2>People</h2>
                <div class="actions">
                    <button class="btn btn-secondary">‚¨áÔ∏è Import</button>
                    <button class="btn btn-primary" onclick="openAddPersonModal()">+ Add Person</button>
                </div>
            </div>

            <div class="filter-tabs">
                <div class="filter-tab active">All (31)</div>
                <div class="filter-tab">Employees (23)</div>
                <div class="filter-tab">Contractors (8)</div>
            </div>

            <div class="people-list">
                <div class="person-row">
                    <div class="person-avatar w2">SM</div>
                    <div class="person-info">
                        <h4>Sarah Mitchell</h4>
                        <div class="tags">
                            <span class="tag w2">W2 ‚Ä¢ Full-time</span>
                            <span class="tag daily-pay">‚ö° Daily Pay</span>
                        </div>
                    </div>
                    <div class="person-pay">
                        <div class="amount">$75,000</div>
                        <div class="period">/year</div>
                    </div>
                    <div class="person-status">Last paid Dec 18</div>
                </div>

                <div class="person-row">
                    <div class="person-avatar contractor">JK</div>
                    <div class="person-info">
                        <h4>James Kim</h4>
                        <div class="tags">
                            <span class="tag contractor">1099 ‚Ä¢ Retainer</span>
                        </div>
                    </div>
                    <div class="person-pay">
                        <div class="amount">$2,500</div>
                        <div class="period">/week</div>
                    </div>
                    <div class="person-status">Next payment Dec 22</div>
                </div>

                <div class="person-row">
                    <div class="person-avatar w2">LT</div>
                    <div class="person-info">
                        <h4>Lisa Thompson</h4>
                        <div class="tags">
                            <span class="tag w2">W2 ‚Ä¢ Part-time</span>
                            <span class="tag daily-pay">‚ö° Daily Pay</span>
                        </div>
                    </div>
                    <div class="person-pay">
                        <div class="amount">$28</div>
                        <div class="period">/hour</div>
                    </div>
                    <div class="person-status" style="color: #27ae60;">Requested $300 today</div>
                </div>

                <div class="person-row">
                    <div class="person-avatar w2">MR</div>
                    <div class="person-info">
                        <h4>Mike Rodriguez</h4>
                        <div class="tags">
                            <span class="tag w2">W2 ‚Ä¢ Full-time</span>
                            <span class="tag daily-pay">‚ö° Daily Pay</span>
                        </div>
                    </div>
                    <div class="person-pay">
                        <div class="amount">$68,000</div>
                        <div class="period">/year</div>
                    </div>
                    <div class="person-status" style="color: #27ae60;">Requested $500 today</div>
                </div>

                <div class="person-row">
                    <div class="person-avatar contractor">AM</div>
                    <div class="person-info">
                        <h4>Anna Martinez</h4>
                        <div class="tags">
                            <span class="tag contractor">1099 ‚Ä¢ Project</span>
                        </div>
                    </div>
                    <div class="person-pay">
                        <div class="amount">$4,500</div>
                        <div class="period">milestone</div>
                    </div>
                    <div class="person-status">Design Phase ‚Ä¢ Approved ‚úì</div>
                </div>

                <div class="person-row">
                    <div class="person-avatar w2">DC</div>
                    <div class="person-info">
                        <h4>David Chen</h4>
                        <div class="tags">
                            <span class="tag w2">W2 ‚Ä¢ Full-time</span>
                        </div>
                    </div>
                    <div class="person-pay">
                        <div class="amount">$92,000</div>
                        <div class="period">/year</div>
                    </div>
                    <div class="person-status">Last paid Dec 18</div>
                </div>
            </div>
        </div>

        <!-- Payables Tab -->
        <div class="tab-content hidden" id="payablesTab">
            <div class="tab-header">
                <h2>Payables</h2>
                <div class="actions">
                    <button class="btn btn-secondary">+ Add Invoice</button>
                    <button class="btn btn-primary" onclick="showBatchConfirm()">‚ö° Run Batch ($8,597)</button>
                </div>
            </div>

            <div class="filter-tabs">
                <div class="filter-tab active">Queue (5)</div>
                <div class="filter-tab">Scheduled (12)</div>
                <div class="filter-tab">Paid (847)</div>
                <div class="filter-tab">Vendors</div>
            </div>

            <div class="payables-queue">
                <div class="queue-header">
                    <h3>‚ö° Ready to Pay</h3>
                    <div class="total">$8,597</div>
                </div>

                <div class="invoice-row">
                    <div class="invoice-icon">üìÑ</div>
                    <div class="invoice-info">
                        <h4>AWS Services</h4>
                        <div class="meta">
                            <span>Invoice #4521</span>
                            <span>Due Dec 25</span>
                            <span class="badge success">‚úì Auto-matched PO</span>
                        </div>
                    </div>
                    <div class="invoice-amount">$2,847</div>
                    <div class="invoice-check checked">‚úì</div>
                </div>

                <div class="invoice-row">
                    <div class="invoice-icon">üìÑ</div>
                    <div class="invoice-info">
                        <h4>Office Supplies Co</h4>
                        <div class="meta">
                            <span>Invoice #8832</span>
                            <span>Due Dec 28</span>
                            <span class="badge warning">üí∞ 2% early-pay</span>
                        </div>
                    </div>
                    <div class="invoice-amount">$1,250</div>
                    <div class="invoice-check checked">‚úì</div>
                </div>

                <div class="invoice-row">
                    <div class="invoice-icon">üë§</div>
                    <div class="invoice-info">
                        <h4>Anna Martinez - Design Phase</h4>
                        <div class="meta">
                            <span>Milestone payment</span>
                            <span>Approved Dec 18</span>
                            <span class="badge success">‚úì Milestone approved</span>
                        </div>
                    </div>
                    <div class="invoice-amount">$4,500</div>
                    <div class="invoice-check checked">‚úì</div>
                </div>
            </div>

            <div class="card" style="margin-top: 20px;">
                <div class="card-header">
                    <h3>‚è≥ Pending Review</h3>
                </div>
                <div class="invoice-row" onclick="showSecurityAlert()">
                    <div class="invoice-icon" style="background: rgba(243, 156, 18, 0.1);">‚ö†Ô∏è</div>
                    <div class="invoice-info">
                        <h4>AWS Services</h4>
                        <div class="meta">
                            <span>Invoice #4523</span>
                            <span>Due Dec 30</span>
                            <span class="badge warning">‚ö†Ô∏è Possible duplicate</span>
                        </div>
                    </div>
                    <div class="invoice-amount">$2,847</div>
                    <div class="invoice-check"></div>
                </div>
            </div>
        </div>

        <!-- Payroll Tab -->
        <div class="tab-content hidden" id="payrollTab">
            <div class="tab-header">
                <h2>Payroll</h2>
                <div class="actions">
                    <button class="btn btn-primary">Run Payroll Now</button>
                </div>
            </div>

            <div class="payroll-summary">
                <h3>December 2024 Payroll</h3>
                <div class="payroll-breakdown">
                    <div class="payroll-main">
                        <div class="amount">$127,450</div>
                        <div class="label">Total payroll ‚Ä¢ 23 employees</div>
                    </div>
                    <div class="payroll-details">
                        <div class="payroll-detail-row">
                            <span class="label">Gross Pay</span>
                            <span class="value">$127,450</span>
                        </div>
                        <div class="payroll-detail-row">
                            <span class="label">Taxes & Withholding</span>
                            <span class="value">-$31,862</span>
                        </div>
                        <div class="payroll-detail-row">
                            <span class="label">Benefits</span>
                            <span class="value">-$8,200</span>
                        </div>
                        <div class="payroll-detail-row">
                            <span class="label" style="opacity: 1; font-weight: 600;">Net Pay</span>
                            <span class="value" style="color: #27ae60;">$87,388</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="daily-pay-section">
                <div class="daily-pay-header">
                    <h3>‚ö° Daily Pay Requests</h3>
                    <button class="btn btn-success">Approve All ($800)</button>
                </div>

                <div class="daily-pay-request">
                    <div class="avatar">MR</div>
                    <div class="info">
                        <h4>Mike Rodriguez</h4>
                        <p>Available balance: $1,240</p>
                    </div>
                    <div class="amount">$500</div>
                    <button class="approve-btn">Approve</button>
                </div>

                <div class="daily-pay-request">
                    <div class="avatar">LT</div>
                    <div class="info">
                        <h4>Lisa Thompson</h4>
                        <p>Available balance: $980</p>
                    </div>
                    <div class="amount">$300</div>
                    <button class="approve-btn">Approve</button>
                </div>
            </div>

            <div class="card" style="margin-top: 20px;">
                <div class="card-header">
                    <h3>Daily Pay Enrollment</h3>
                    <span style="color: #888;">18 of 23 employees</span>
                </div>
                <div style="background: #f5f7fa; border-radius: 10px; height: 12px; overflow: hidden;">
                    <div style="background: linear-gradient(90deg, #27ae60, #16a085); height: 100%; width: 78%; border-radius: 10px;"></div>
                </div>
                <p style="color: #888; font-size: 0.85rem; margin-top: 12px;">Employees can request up to 50% of earned wages daily at no cost.</p>
            </div>
        </div>

        <!-- Security Tab -->
        <div class="tab-content hidden" id="securityTab">
            <div class="security-page-header">
                <div class="shield">üõ°Ô∏è</div>
                <div>
                    <h2>Security Center</h2>
                    <p>AI-powered monitoring runs 3 times daily to protect your payments</p>
                </div>
            </div>

            <div class="scan-schedule-card">
                <h3 style="margin-bottom: 10px;">Today's Scan Schedule</h3>
                <div class="scan-timeline">
                    <div class="scan-slot">
                        <div class="time-badge done">‚úì</div>
                        <div class="label">6:00 AM</div>
                        <div class="result">847 checked ‚Ä¢ Clear</div>
                    </div>
                    <div class="scan-slot">
                        <div class="time-badge done">‚úì</div>
                        <div class="label">2:00 PM</div>
                        <div class="result">12 checked ‚Ä¢ Clear</div>
                    </div>
                    <div class="scan-slot">
                        <div class="time-badge next">10P</div>
                        <div class="label">10:00 PM</div>
                        <div class="result" style="color: #888;">In 6 hours</div>
                    </div>
                </div>
            </div>

            <div class="protection-grid">
                <div class="protection-card highlight">
                    <div class="value">$47,200</div>
                    <div class="label">Saved from Errors</div>
                </div>
                <div class="protection-card">
                    <div class="value">23</div>
                    <div class="label">Duplicates Caught</div>
                </div>
                <div class="protection-card">
                    <div class="value">2</div>
                    <div class="label">Fraud Attempts Blocked</div>
                </div>
            </div>

            <div class="activity-log">
                <h3>Recent Activity</h3>
                <div class="log-item">
                    <div class="log-icon success">‚úì</div>
                    <div class="log-content">
                        <div class="title">Midday scan complete</div>
                        <div class="desc">12 new transactions scanned, 0 issues found</div>
                    </div>
                    <div class="log-time">Today, 2:00 PM</div>
                </div>
                <div class="log-item">
                    <div class="log-icon success">‚úì</div>
                    <div class="log-content">
                        <div class="title">Morning scan complete</div>
                        <div class="desc">847 transactions scanned, 0 issues found</div>
                    </div>
                    <div class="log-time">Today, 6:00 AM</div>
                </div>
                <div class="log-item">
                    <div class="log-icon warning">‚ö†Ô∏è</div>
                    <div class="log-content">
                        <div class="title">Duplicate invoice flagged</div>
                        <div class="desc">AWS Services #4523 matches #4521 ‚Äî awaiting review</div>
                    </div>
                    <div class="log-time">Today, 2:00 PM</div>
                </div>
                <div class="log-item">
                    <div class="log-icon success">‚úì</div>
                    <div class="log-content">
                        <div class="title">Bank change verified</div>
                        <div class="desc">Vendor "Design Co" bank details change confirmed via callback</div>
                    </div>
                    <div class="log-time">Dec 18, 3:45 PM</div>
                </div>
                <div class="log-item">
                    <div class="log-icon warning">‚ö†Ô∏è</div>
                    <div class="log-content">
                        <div class="title">Potential fraud blocked</div>
                        <div class="desc">Suspicious bank change request rejected ‚Äî saved $12,400</div>
                    </div>
                    <div class="log-time">Dec 15, 6:00 AM</div>
                </div>
            </div>

            <div class="card" style="margin-top: 20px;">
                <div class="card-header">
                    <h3>Active Protections</h3>
                </div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                    <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: #f5f7fa; border-radius: 10px;">
                        <span style="color: #27ae60; font-size: 1.2rem;">‚òëÔ∏è</span>
                        <span>Duplicate invoice detection</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: #f5f7fa; border-radius: 10px;">
                        <span style="color: #27ae60; font-size: 1.2rem;">‚òëÔ∏è</span>
                        <span>Bank account change alerts</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: #f5f7fa; border-radius: 10px;">
                        <span style="color: #27ae60; font-size: 1.2rem;">‚òëÔ∏è</span>
                        <span>Unusual amount detection</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: #f5f7fa; border-radius: 10px;">
                        <span style="color: #27ae60; font-size: 1.2rem;">‚òëÔ∏è</span>
                        <span>Vendor pattern monitoring</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: #f5f7fa; border-radius: 10px;">
                        <span style="color: #27ae60; font-size: 1.2rem;">‚òëÔ∏è</span>
                        <span>Daily pay anomaly detection</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: #f5f7fa; border-radius: 10px;">
                        <span style="color: #27ae60; font-size: 1.2rem;">‚òëÔ∏è</span>
                        <span>Ghost employee check</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div class="tab-content hidden" id="settingsTab">
            <div class="tab-header" style="margin-bottom: 30px;">
                <h2>Settings</h2>
            </div>

            <!-- Company Settings -->
            <div class="card" style="margin-bottom: 20px;">
                <div class="card-header">
                    <h3>üè¢ Company Information</h3>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div style="padding: 16px; background: #f5f7fa; border-radius: 10px;">
                        <div style="font-size: 0.8rem; color: #888; margin-bottom: 4px;">Company Name</div>
                        <div style="font-weight: 600; display: flex; justify-content: space-between; align-items: center;">
                            Acme Corp
                            <button class="btn btn-sm btn-outline" onclick="showToast('Edit mode coming soon', 'warning')">Edit</button>
                        </div>
                    </div>
                    <div style="padding: 16px; background: #f5f7fa; border-radius: 10px;">
                        <div style="font-size: 0.8rem; color: #888; margin-bottom: 4px;">EIN</div>
                        <div style="font-weight: 600; display: flex; justify-content: space-between; align-items: center;">
                            12-3456789
                            <button class="btn btn-sm btn-outline" onclick="showToast('Edit mode coming soon', 'warning')">Edit</button>
                        </div>
                    </div>
                    <div style="padding: 16px; background: #f5f7fa; border-radius: 10px; grid-column: span 2;">
                        <div style="font-size: 0.8rem; color: #888; margin-bottom: 4px;">Business Address</div>
                        <div style="font-weight: 600; display: flex; justify-content: space-between; align-items: center;">
                            123 Business St, San Francisco, CA 94102
                            <button class="btn btn-sm btn-outline" onclick="showToast('Edit mode coming soon', 'warning')">Edit</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Payment Methods -->
            <div class="card" style="margin-bottom: 20px;">
                <div class="card-header">
                    <h3>üè¶ Payment Methods</h3>
                    <span class="action" onclick="showToast('Add payment method coming soon', 'warning')">+ Add Method</span>
                </div>
                <div style="border: 1px solid #eee; border-radius: 12px; overflow: hidden;">
                    <div style="display: flex; align-items: center; padding: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div style="width: 48px; height: 48px; border-radius: 12px; background: linear-gradient(135deg, #3498db, #2980b9); display: flex; align-items: center; justify-content: center; margin-right: 16px; font-size: 1.5rem;">üè¶</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600;">Chase Business Checking</div>
                            <div style="font-size: 0.85rem; color: #888;">Primary ‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢4521 ‚Ä¢ Connected via Plaid</div>
                        </div>
                        <span style="color: #27ae60; font-weight: 500;">‚úì Active</span>
                    </div>
                    <div style="display: flex; align-items: center; padding: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div style="width: 48px; height: 48px; border-radius: 12px; background: linear-gradient(135deg, #f39c12, #e67e22); display: flex; align-items: center; justify-content: center; margin-right: 16px; font-size: 1.5rem;">üîµ</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600;">Coinbase Business</div>
                            <div style="font-size: 0.85rem; color: #888;">CEX ‚Ä¢ USDC on Base L2</div>
                        </div>
                        <button class="btn btn-sm btn-outline" onclick="showToast('Connect Coinbase to enable instant USDC payments', 'warning')">Connect</button>
                    </div>
                    <div style="display: flex; align-items: center; padding: 16px;">
                        <div style="width: 48px; height: 48px; border-radius: 12px; background: linear-gradient(135deg, #9b59b6, #8e44ad); display: flex; align-items: center; justify-content: center; margin-right: 16px; font-size: 1.5rem;">ü¶ä</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600;">External Wallet (DEX)</div>
                            <div style="font-size: 0.85rem; color: #888;">MetaMask, WalletConnect, or any Web3 wallet</div>
                        </div>
                        <button class="btn btn-sm btn-outline" onclick="showToast('Connect any Web3 wallet via WalletConnect', 'warning')">Connect</button>
                    </div>
                </div>
            </div>

            <!-- Integrations -->
            <div class="card" style="margin-bottom: 20px;">
                <div class="card-header">
                    <h3>üîó Integrations</h3>
                </div>
                <div style="border: 1px solid #eee; border-radius: 12px; overflow: hidden;">
                    <div style="display: flex; align-items: center; padding: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div style="width: 48px; height: 48px; border-radius: 12px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; margin-right: 16px; font-size: 1.5rem;">üìä</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600;">QuickBooks</div>
                            <div style="font-size: 0.85rem; color: #888;">Syncing invoices and contacts</div>
                        </div>
                        <span style="color: #27ae60; font-weight: 500;">‚úì Connected</span>
                    </div>
                    <div style="display: flex; align-items: center; padding: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div style="width: 48px; height: 48px; border-radius: 12px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; margin-right: 16px; font-size: 1.5rem;">üë•</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600;">Gusto</div>
                            <div style="font-size: 0.85rem; color: #888;">Import employee payroll data</div>
                        </div>
                        <button class="btn btn-sm btn-outline" onclick="showToast('Gusto integration coming soon', 'warning')">Connect</button>
                    </div>
                    <div style="display: flex; align-items: center; padding: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div style="width: 48px; height: 48px; border-radius: 12px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; margin-right: 16px; font-size: 1.5rem;">üí¨</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600;">Slack</div>
                            <div style="font-size: 0.85rem; color: #888;">Receive payment notifications</div>
                        </div>
                        <button class="btn btn-sm btn-outline" onclick="showToast('Slack integration coming soon', 'warning')">Connect</button>
                    </div>
                    <div style="display: flex; align-items: center; padding: 16px;">
                        <div style="width: 48px; height: 48px; border-radius: 12px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; margin-right: 16px; font-size: 1.5rem;">üíº</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600;">ADP / Rippling</div>
                            <div style="font-size: 0.85rem; color: #888;">Sync HR and payroll data</div>
                        </div>
                        <button class="btn btn-sm btn-outline" onclick="showToast('ADP/Rippling integration coming soon', 'warning')">Connect</button>
                    </div>
                </div>
            </div>

            <!-- Security Settings -->
            <div class="card" style="margin-bottom: 20px;">
                <div class="card-header">
                    <h3>üõ°Ô∏è Security Settings</h3>
                </div>
                <div style="border: 1px solid #eee; border-radius: 12px; overflow: hidden;">
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div>
                            <div style="font-weight: 500;">Guardian AI Monitoring</div>
                            <div style="font-size: 0.85rem; color: #888;">3x daily scans for duplicates, fraud, and anomalies</div>
                        </div>
                        <div class="toggle active" onclick="this.classList.toggle('active'); showToast('Setting updated', 'success')"></div>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div>
                            <div style="font-weight: 500;">Payment Approval Required</div>
                            <div style="font-size: 0.85rem; color: #888;">Require approval for payments over $5,000</div>
                        </div>
                        <div class="toggle active" onclick="this.classList.toggle('active'); showToast('Setting updated', 'success')"></div>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div>
                            <div style="font-weight: 500;">New Vendor Verification</div>
                            <div style="font-size: 0.85rem; color: #888;">Require manual approval for first payment to new vendors</div>
                        </div>
                        <div class="toggle active" onclick="this.classList.toggle('active'); showToast('Setting updated', 'success')"></div>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px;">
                        <div>
                            <div style="font-weight: 500;">Two-Factor Authentication</div>
                            <div style="font-size: 0.85rem; color: #888;">Required for all payment approvals</div>
                        </div>
                        <div class="toggle active" onclick="this.classList.toggle('active'); showToast('Setting updated', 'success')"></div>
                    </div>
                </div>
            </div>

            <!-- Daily Pay Settings -->
            <div class="card" style="margin-bottom: 20px;">
                <div class="card-header">
                    <h3>‚ö° Daily Pay Settings</h3>
                </div>
                <div style="border: 1px solid #eee; border-radius: 12px; overflow: hidden;">
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div>
                            <div style="font-weight: 500;">Enable Daily Pay</div>
                            <div style="font-size: 0.85rem; color: #888;">Allow employees to access earned wages early</div>
                        </div>
                        <div class="toggle active" onclick="this.classList.toggle('active'); showToast('Setting updated', 'success')"></div>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div>
                            <div style="font-weight: 500;">Maximum Advance Percentage</div>
                            <div style="font-size: 0.85rem; color: #888;">Currently set to 50% of earned wages</div>
                        </div>
                        <select style="padding: 8px 12px; border-radius: 8px; border: 1px solid #ddd;" onchange="showToast('Setting updated', 'success')">
                            <option>25%</option>
                            <option selected>50%</option>
                            <option>75%</option>
                            <option>100%</option>
                        </select>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px;">
                        <div>
                            <div style="font-weight: 500;">Auto-Approve Requests</div>
                            <div style="font-size: 0.85rem; color: #888;">Automatically approve requests under $500</div>
                        </div>
                        <div class="toggle" onclick="this.classList.toggle('active'); showToast('Setting updated', 'success')"></div>
                    </div>
                </div>
            </div>

            <!-- Notifications -->
            <div class="card">
                <div class="card-header">
                    <h3>üîî Notification Preferences</h3>
                </div>
                <div style="border: 1px solid #eee; border-radius: 12px; overflow: hidden;">
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div>
                            <div style="font-weight: 500;">Email Notifications</div>
                            <div style="font-size: 0.85rem; color: #888;">Payment confirmations, alerts, and reports</div>
                        </div>
                        <div class="toggle active" onclick="this.classList.toggle('active'); showToast('Setting updated', 'success')"></div>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div>
                            <div style="font-weight: 500;">Daily Pay Alerts</div>
                            <div style="font-size: 0.85rem; color: #888;">Notify when employees request early pay</div>
                        </div>
                        <div class="toggle active" onclick="this.classList.toggle('active'); showToast('Setting updated', 'success')"></div>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px;">
                        <div>
                            <div style="font-weight: 500;">Security Alerts</div>
                            <div style="font-size: 0.85rem; color: #888;">Immediate alerts for potential fraud or duplicates</div>
                        </div>
                        <div class="toggle active" onclick="this.classList.toggle('active'); showToast('Setting updated', 'success')"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Add Person Modal -->
    <div class="modal-overlay" id="addPersonModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Add Person</h2>
                <button class="modal-close" onclick="closeModal('addPersonModal')">√ó</button>
            </div>
            <div class="modal-body">
                <!-- Step 1: Choose Type -->
                <div id="addPersonStep1">
                    <div class="progress-steps">
                        <div class="step active"><div class="step-circle">1</div></div>
                        <div class="step-line"></div>
                        <div class="step"><div class="step-circle">2</div></div>
                        <div class="step-line"></div>
                        <div class="step"><div class="step-circle">3</div></div>
                        <div class="step-line"></div>
                        <div class="step"><div class="step-circle">4</div></div>
                    </div>
                    <h3 style="text-align: center; margin-bottom: 20px;">What type of worker?</h3>
                    <div class="type-selector">
                        <div class="type-option" onclick="selectWorkerType('w2', this)">
                            <div class="icon">üíº</div>
                            <h4>Employee (W2)</h4>
                            <p>Full or part-time employee on payroll</p>
                        </div>
                        <div class="type-option" onclick="selectWorkerType('1099', this)">
                            <div class="icon">üìù</div>
                            <h4>Contractor (1099)</h4>
                            <p>Freelancer or independent contractor</p>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Basic Info -->
                <div id="addPersonStep2" class="hidden">
                    <div class="progress-steps">
                        <div class="step done"><div class="step-circle">‚úì</div></div>
                        <div class="step-line"></div>
                        <div class="step active"><div class="step-circle">2</div></div>
                        <div class="step-line"></div>
                        <div class="step"><div class="step-circle">3</div></div>
                        <div class="step-line"></div>
                        <div class="step"><div class="step-circle">4</div></div>
                    </div>
                    <h3 style="margin-bottom: 20px;">Contractor Details</h3>
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" placeholder="e.g., Alex Johnson" id="contractorName">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" placeholder="alex@email.com" id="contractorEmail">
                    </div>
                    <div class="form-group">
                        <label>Describe the Work</label>
                        <textarea placeholder="e.g., UI/UX design for mobile app redesign, $5,000 project fee" id="workDescription"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Payment Preference</label>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                            <div class="type-option selected" onclick="selectPaymentPref(this)" style="padding: 12px;">
                                <div style="font-size: 1.2rem;">üè¶</div>
                                <div style="font-size: 0.85rem; font-weight: 600;">ACH</div>
                                <div style="font-size: 0.7rem; color: #888;">1-2 days</div>
                            </div>
                            <div class="type-option" onclick="selectPaymentPref(this)" style="padding: 12px;">
                                <div style="font-size: 1.2rem;">üîµ</div>
                                <div style="font-size: 0.85rem; font-weight: 600;">USDC</div>
                                <div style="font-size: 0.7rem; color: #888;">Instant ‚Ä¢ Coinbase</div>
                            </div>
                            <div class="type-option" onclick="selectPaymentPref(this)" style="padding: 12px;">
                                <div style="font-size: 1.2rem;">ü¶ä</div>
                                <div style="font-size: 0.85rem; font-weight: 600;">USDC</div>
                                <div style="font-size: 0.7rem; color: #888;">Instant ‚Ä¢ Wallet</div>
                            </div>
                        </div>
                        <div style="font-size: 0.75rem; color: #888; margin-top: 8px;">Contractor can update this when they accept the contract.</div>
                    </div>
                </div>

                <!-- Step 3: AI Generating Contract -->
                <div id="addPersonStep3" class="hidden">
                    <div class="ai-generating">
                        <div class="spinner"></div>
                        <h3>Generating Contract...</h3>
                        <p>AI is creating a customized 1099 agreement based on the work description</p>
                    </div>
                </div>

                <!-- Step 4: Review Contract -->
                <div id="addPersonStep4" class="hidden">
                    <div class="progress-steps">
                        <div class="step done"><div class="step-circle">‚úì</div></div>
                        <div class="step-line"></div>
                        <div class="step done"><div class="step-circle">‚úì</div></div>
                        <div class="step-line"></div>
                        <div class="step done"><div class="step-circle">‚úì</div></div>
                        <div class="step-line"></div>
                        <div class="step active"><div class="step-circle">4</div></div>
                    </div>
                    <h3 style="margin-bottom: 20px;">Review Contract</h3>
                    <div class="contract-preview">
                        <h4>Independent Contractor Agreement</h4>
                        <div class="clause">
                            <strong>Parties:</strong> This Agreement is between Acme Corp ("Company") and <span id="contractName">Alex Johnson</span> ("Contractor").
                        </div>
                        <div class="clause">
                            <strong>Services:</strong> <span id="contractWork">UI/UX design for mobile app redesign</span>
                        </div>
                        <div class="clause">
                            <strong>Compensation:</strong> $5,000 project fee, payable upon completion of deliverables.
                        </div>
                        <div class="clause">
                            <strong>Term:</strong> This Agreement begins on execution date and continues until project completion or termination by either party with 14 days notice.
                        </div>
                        <div class="clause">
                            <strong>Independent Contractor Status:</strong> Contractor is not an employee and is responsible for their own taxes, including self-employment tax.
                        </div>
                        <div class="clause">
                            <strong>Intellectual Property:</strong> All work product created under this Agreement shall be owned by Company upon payment.
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px; margin-top: 16px;">
                        <span style="background: rgba(39, 174, 96, 0.1); color: #27ae60; padding: 6px 12px; border-radius: 6px; font-size: 0.8rem;">‚úì W-9 Request Included</span>
                        <span style="background: rgba(52, 152, 219, 0.1); color: #3498db; padding: 6px 12px; border-radius: 6px; font-size: 0.8rem;">‚úì E-signature Ready</span>
                    </div>
                </div>

                <!-- Step 5: Success -->
                <div id="addPersonStep5" class="hidden" style="text-align: center; padding: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">üéâ</div>
                    <h3>Contract Sent!</h3>
                    <p style="color: #666; margin-top: 10px;">Alex Johnson will receive an email to review and sign the contract, plus a W-9 request.</p>
                    <div style="background: #f5f7fa; border-radius: 12px; padding: 20px; margin-top: 20px; text-align: left;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span style="color: #888;">Contract Status</span>
                            <span style="color: #f39c12; font-weight: 500;">‚è≥ Awaiting Signature</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span style="color: #888;">W-9 Status</span>
                            <span style="color: #f39c12; font-weight: 500;">‚è≥ Awaiting</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: #888;">First Payment</span>
                            <span style="font-weight: 500;">After contract signed</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer" id="addPersonFooter">
                <button class="btn btn-secondary" onclick="closeModal('addPersonModal')">Cancel</button>
                <button class="btn btn-primary" id="addPersonNextBtn" onclick="nextAddPersonStep()" disabled>Continue</button>
            </div>
        </div>
    </div>

    <!-- Security Alert Modal -->
    <div class="modal-overlay alert-modal" id="securityAlertModal">
        <div class="modal">
            <div class="modal-header">
                <h2>‚ö†Ô∏è Security Alert</h2>
                <button class="modal-close" onclick="closeModal('securityAlertModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="alert-content">
                    <h4>‚ö†Ô∏è Potential Duplicate Payment Detected</h4>
                    <p>Invoice #4523 appears similar to a recently paid invoice.</p>
                    
                    <div class="comparison-box">
                        <div class="comparison-item">
                            <span><strong>New:</strong> Invoice #4523</span>
                            <span>$2,847</span>
                        </div>
                        <div class="comparison-item">
                            <span><strong>Paid Dec 15:</strong> Invoice #4521</span>
                            <span>$2,847</span>
                        </div>
                        <div class="comparison-item">
                            <span>Same vendor</span>
                            <span>AWS Services</span>
                        </div>
                        <div class="comparison-item">
                            <span>Same amount</span>
                            <span style="color: #e74c3c;">Exact match</span>
                        </div>
                    </div>

                    <div class="confidence-bar">
                        <label>Duplicate Confidence: 94%</label>
                        <div class="confidence-track">
                            <div class="confidence-fill" style="width: 94%;"></div>
                        </div>
                    </div>
                </div>

                <div class="alert-actions">
                    <button class="alert-btn" onclick="closeModal('securityAlertModal')">View Both</button>
                    <button class="alert-btn" onclick="closeModal('securityAlertModal')">Not a Duplicate</button>
                    <button class="alert-btn danger" onclick="closeModal('securityAlertModal')">Remove #4523</button>
                </div>
            </div>
        </div>
    </div>

<!-- Person Detail Modal -->
    <div class="modal-overlay" id="personDetailModal">
        <div class="modal" style="max-width: 700px;">
            <div class="modal-header">
                <h2 id="personDetailTitle">üë§ Person Details</h2>
                <button class="modal-close" onclick="closeModal('personDetailModal')">√ó</button>
            </div>
            <div class="modal-body" id="personDetailContent">
                <!-- Content filled dynamically -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('personDetailModal')">Close</button>
                <button class="btn btn-primary" onclick="editPerson()">Edit</button>
            </div>
        </div>
    </div>

    <!-- Invoice Detail Modal -->
    <div class="modal-overlay" id="invoiceDetailModal">
        <div class="modal" style="max-width: 700px;">
            <div class="modal-header">
                <h2>üìÑ Invoice Details</h2>
                <button class="modal-close" onclick="closeModal('invoiceDetailModal')">√ó</button>
            </div>
            <div class="modal-body" id="invoiceDetailContent">
                <!-- Content filled dynamically -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('invoiceDetailModal')">Close</button>
                <button class="btn btn-success" onclick="approveInvoice()">Approve & Pay</button>
            </div>
        </div>
    </div>

    <!-- Batch Payment Modal -->
    <div class="modal-overlay" id="batchPaymentModal">
        <div class="modal" style="max-width: 600px;">
            <div class="modal-header">
                <h2>‚ö° Batch Payment</h2>
                <button class="modal-close" onclick="closeModal('batchPaymentModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div style="background: linear-gradient(135deg, #1a1a2e, #16213e); border-radius: 12px; padding: 24px; color: white; text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 0.9rem; opacity: 0.8;">Total Payment</div>
                    <div style="font-size: 2.5rem; font-weight: 700; color: #f4d03f;">$8,597</div>
                    <div style="font-size: 0.9rem; opacity: 0.7;">3 recipients</div>
                </div>
                
                <div style="border: 1px solid #eee; border-radius: 12px; overflow: hidden;">
                    <div style="display: flex; align-items: center; padding: 14px 16px; border-bottom: 1px solid #f0f0f0;">
                        <div style="width: 36px; height: 36px; border-radius: 8px; background: rgba(244, 208, 63, 0.1); display: flex; align-items: center; justify-content: center; margin-right: 12px;">üìÑ</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 500;">AWS Services</div>
                            <div style="font-size: 0.8rem; color: #888;">ACH ‚Ä¢ 1-2 business days</div>
                        </div>
                        <div style="font-weight: 600;">$2,847</div>
                    </div>
                    <div style="display: flex; align-items: center; padding: 14px 16px; border-bottom: 1px solid #f0f0f0;">
                        <div style="width: 36px; height: 36px; border-radius: 8px; background: rgba(244, 208, 63, 0.1); display: flex; align-items: center; justify-content: center; margin-right: 12px;">üìÑ</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 500;">Office Supplies Co</div>
                            <div style="font-size: 0.8rem; color: #888;">ACH ‚Ä¢ <span style="color: #27ae60;">2% early-pay discount applied</span></div>
                        </div>
                        <div style="font-weight: 600;">$1,250</div>
                    </div>
                    <div style="display: flex; align-items: center; padding: 14px 16px;">
                        <div style="width: 36px; height: 36px; border-radius: 8px; background: rgba(39, 174, 96, 0.1); display: flex; align-items: center; justify-content: center; margin-right: 12px;">üë§</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 500;">Anna Martinez</div>
                            <div style="font-size: 0.8rem; color: #888;">USDC on Base ‚Ä¢ Instant</div>
                        </div>
                        <div style="font-weight: 600;">$4,500</div>
                    </div>
                </div>
                
                <div style="background: rgba(39, 174, 96, 0.1); border: 1px solid rgba(39, 174, 96, 0.3); border-radius: 10px; padding: 12px; margin-top: 16px; font-size: 0.85rem; color: #27ae60;">
                    üõ°Ô∏è <strong>Guardian Verified:</strong> All recipients and amounts verified. No security issues detected.
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('batchPaymentModal')">Cancel</button>
                <button class="btn btn-success" onclick="executeBatchPayment()">‚ö° Pay $8,597 Now</button>
            </div>
        </div>
    </div>

    <!-- Import Modal -->
    <div class="modal-overlay" id="importModal">
        <div class="modal">
            <div class="modal-header">
                <h2>‚¨áÔ∏è Import People</h2>
                <button class="modal-close" onclick="closeModal('importModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="import-options">
                    <div class="import-option" onclick="selectImportMethod(this, 'csv')" style="display: flex; align-items: center; gap: 16px; padding: 16px; border: 2px solid #e0e0e0; border-radius: 12px; cursor: pointer; margin-bottom: 12px;">
                        <div style="width: 48px; height: 48px; border-radius: 12px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üìÑ</div>
                        <div style="flex: 1;">
                            <h4 style="font-size: 1rem; font-weight: 600;">Upload CSV</h4>
                            <p style="font-size: 0.85rem; color: #888;">Import from a spreadsheet</p>
                        </div>
                    </div>
                    <div class="import-option" onclick="selectImportMethod(this, 'quickbooks')" style="display: flex; align-items: center; gap: 16px; padding: 16px; border: 2px solid #e0e0e0; border-radius: 12px; cursor: pointer; margin-bottom: 12px;">
                        <div style="width: 48px; height: 48px; border-radius: 12px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üìä</div>
                        <div style="flex: 1;">
                            <h4 style="font-size: 1rem; font-weight: 600;">QuickBooks</h4>
                            <p style="font-size: 0.85rem; color: #888;">Sync contacts and vendors</p>
                        </div>
                    </div>
                    <div class="import-option" onclick="selectImportMethod(this, 'gusto')" style="display: flex; align-items: center; gap: 16px; padding: 16px; border: 2px solid #e0e0e0; border-radius: 12px; cursor: pointer;">
                        <div style="width: 48px; height: 48px; border-radius: 12px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üë•</div>
                        <div style="flex: 1;">
                            <h4 style="font-size: 1rem; font-weight: 600;">Gusto</h4>
                            <p style="font-size: 0.85rem; color: #888;">Import employee data</p>
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <a href="#" style="color: #3498db; font-size: 0.9rem;">Download CSV template</a>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('importModal')">Cancel</button>
                <button class="btn btn-primary" onclick="startImport()">Continue</button>
            </div>
        </div>
    </div>

    <!-- Add Invoice Modal -->
    <div class="modal-overlay" id="addInvoiceModal">
        <div class="modal">
            <div class="modal-header">
                <h2>+ Add Invoice</h2>
                <button class="modal-close" onclick="closeModal('addInvoiceModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Vendor</label>
                    <select>
                        <option>Select vendor...</option>
                        <option>AWS Services</option>
                        <option>Google Cloud</option>
                        <option>Office Supplies Co</option>
                        <option>+ Add new vendor</option>
                    </select>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label>Invoice Number</label>
                        <input type="text" placeholder="INV-001">
                    </div>
                    <div class="form-group">
                        <label>Amount</label>
                        <input type="text" placeholder="$0.00">
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label>Invoice Date</label>
                        <input type="date">
                    </div>
                    <div class="form-group">
                        <label>Due Date</label>
                        <input type="date">
                    </div>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea placeholder="What is this invoice for?"></textarea>
                </div>
                <div class="form-group">
                    <label>Attach Invoice (PDF, PNG, JPG)</label>
                    <div style="border: 2px dashed #ddd; border-radius: 12px; padding: 40px; text-align: center; cursor: pointer;">
                        <div style="font-size: 2rem; margin-bottom: 8px;">üìé</div>
                        <div style="color: #888;">Drag & drop or click to upload</div>
                        <div style="color: #aaa; font-size: 0.85rem; margin-top: 4px;">AI will auto-extract invoice details</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addInvoiceModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveInvoice()">Add Invoice</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" style="position: fixed; bottom: 30px; right: 30px; z-index: 3000;"></div>

    <script>
        // Tab Navigation
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.add('hidden'));
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            
            document.getElementById(tabName + 'Tab').classList.remove('hidden');
            document.querySelector(`.nav-tab[onclick*="${tabName}"]`).classList.add('active');
        }

        // Onboarding
        function nextOnboardingStep(step) {
            document.querySelectorAll('.onboarding-step').forEach(s => s.classList.add('hidden'));
            document.getElementById('onboardStep' + step).classList.remove('hidden');
        }

        function selectImportOption(el) {
            document.querySelectorAll('.import-option').forEach(opt => opt.classList.remove('selected'));
            el.classList.add('selected');
        }

        function selectCryptoOption(el, type) {
            el.parentElement.querySelectorAll('.sync-option').forEach(opt => opt.classList.remove('selected'));
            el.classList.add('selected');
        }

        function selectPaymentPref(el) {
            el.parentElement.querySelectorAll('.type-option').forEach(opt => opt.classList.remove('selected'));
            el.classList.add('selected');
        }

        function completeOnboarding() {
            document.getElementById('onboardingOverlay').style.display = 'none';
            showToast('Welcome to Pay.i! Your account is ready.', 'success');
        }

        // Modals
        function openAddPersonModal() {
            document.getElementById('addPersonModal').classList.add('active');
            resetAddPersonModal();
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        function showSecurityAlert() {
            document.getElementById('securityAlertModal').classList.add('active');
        }

        function openImportModal() {
            document.getElementById('importModal').classList.add('active');
        }

        function openAddInvoiceModal() {
            document.getElementById('addInvoiceModal').classList.add('active');
        }

        function openBatchPaymentModal() {
            document.getElementById('batchPaymentModal').classList.add('active');
        }

        // Person Detail
        const peopleData = {
            'sarah-mitchell': { name: 'Sarah Mitchell', type: 'w2', initials: 'SM', title: 'Marketing Manager', pay: '$75,000/year', status: 'Active', dailyPay: true, email: 'sarah.m@acmecorp.com', startDate: 'Mar 15, 2022', lastPaid: 'Dec 18, 2024' },
            'james-kim': { name: 'James Kim', type: 'contractor', initials: 'JK', title: 'Senior Developer', pay: '$2,500/week', status: 'Pending Signature', dailyPay: false, email: 'james@jkdev.io', startDate: 'Pending', lastPaid: 'N/A' },
            'lisa-thompson': { name: 'Lisa Thompson', type: 'w2', initials: 'LT', title: 'Customer Support', pay: '$28/hour', status: 'Active', dailyPay: true, email: 'lisa.t@acmecorp.com', startDate: 'Jun 1, 2023', lastPaid: 'Dec 18, 2024', pendingRequest: '$300' },
            'mike-rodriguez': { name: 'Mike Rodriguez', type: 'w2', initials: 'MR', title: 'Sales Representative', pay: '$68,000/year', status: 'Active', dailyPay: true, email: 'mike.r@acmecorp.com', startDate: 'Jan 10, 2023', lastPaid: 'Dec 18, 2024', pendingRequest: '$500' },
            'anna-martinez': { name: 'Anna Martinez', type: 'contractor', initials: 'AM', title: 'UI/UX Designer', pay: '$4,500/milestone', status: 'Active', dailyPay: false, email: 'anna@designstudio.co', startDate: 'Nov 1, 2024', lastPaid: 'Dec 10, 2024', paymentMethod: 'USDC on Base' },
            'david-chen': { name: 'David Chen', type: 'w2', initials: 'DC', title: 'Engineering Lead', pay: '$92,000/year', status: 'Active', dailyPay: false, email: 'david.c@acmecorp.com', startDate: 'Aug 20, 2021', lastPaid: 'Dec 18, 2024' }
        };

        function openPersonDetail(personId) {
            const person = peopleData[personId];
            if (!person) return;
            
            const avatarClass = person.type === 'w2' ? 'background: linear-gradient(135deg, #3498db, #2980b9);' : 'background: linear-gradient(135deg, #27ae60, #16a085);';
            const typeLabel = person.type === 'w2' ? 'W2 Employee' : '1099 Contractor';
            
            let pendingHtml = '';
            if (person.pendingRequest) {
                pendingHtml = `
                    <div style="background: rgba(39, 174, 96, 0.1); border: 1px solid rgba(39, 174, 96, 0.3); border-radius: 12px; padding: 16px; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 600; color: #27ae60;">‚ö° Daily Pay Request Pending</div>
                                <div style="font-size: 0.85rem; color: #666;">Requested ${person.pendingRequest} ‚Ä¢ 5 minutes ago</div>
                            </div>
                            <button class="btn btn-success btn-sm" onclick="approveDailyPayFromDetail('${personId}')">Approve ${person.pendingRequest}</button>
                        </div>
                    </div>
                `;
            }
            
            document.getElementById('personDetailTitle').innerHTML = `üë§ ${person.name}`;
            document.getElementById('personDetailContent').innerHTML = `
                <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 24px;">
                    <div style="width: 80px; height: 80px; border-radius: 20px; ${avatarClass} color: white; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; font-weight: 600;">${person.initials}</div>
                    <div>
                        <h3 style="font-size: 1.4rem; font-weight: 600;">${person.name}</h3>
                        <div style="color: #888;">${person.title} ‚Ä¢ ${typeLabel}</div>
                    </div>
                </div>
                
                ${pendingHtml}
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px;">
                    <div style="background: #f5f7fa; padding: 14px 16px; border-radius: 10px;">
                        <div style="font-size: 0.8rem; color: #888;">Compensation</div>
                        <div style="font-weight: 600;">${person.pay}</div>
                    </div>
                    <div style="background: #f5f7fa; padding: 14px 16px; border-radius: 10px;">
                        <div style="font-size: 0.8rem; color: #888;">Status</div>
                        <div style="font-weight: 600; color: ${person.status === 'Active' ? '#27ae60' : '#f39c12'};">${person.status}</div>
                    </div>
                    <div style="background: #f5f7fa; padding: 14px 16px; border-radius: 10px;">
                        <div style="font-size: 0.8rem; color: #888;">Email</div>
                        <div style="font-weight: 600;">${person.email}</div>
                    </div>
                    <div style="background: #f5f7fa; padding: 14px 16px; border-radius: 10px;">
                        <div style="font-size: 0.8rem; color: #888;">Start Date</div>
                        <div style="font-weight: 600;">${person.startDate}</div>
                    </div>
                    <div style="background: #f5f7fa; padding: 14px 16px; border-radius: 10px;">
                        <div style="font-size: 0.8rem; color: #888;">Last Paid</div>
                        <div style="font-weight: 600;">${person.lastPaid}</div>
                    </div>
                    <div style="background: #f5f7fa; padding: 14px 16px; border-radius: 10px;">
                        <div style="font-size: 0.8rem; color: #888;">Daily Pay</div>
                        <div style="font-weight: 600; color: ${person.dailyPay ? '#27ae60' : '#888'};">${person.dailyPay ? '‚úì Enabled' : 'Not enrolled'}</div>
                    </div>
                </div>
                
                <h4 style="font-size: 0.85rem; color: #888; text-transform: uppercase; margin-bottom: 12px;">Payment History</h4>
                <div style="border: 1px solid #eee; border-radius: 12px; overflow: hidden;">
                    <div style="display: flex; padding: 14px 16px; border-bottom: 1px solid #f0f0f0;">
                        <span style="width: 100px; color: #888;">Dec 18</span>
                        <span style="flex: 1;">Bi-weekly payroll</span>
                        <span style="font-weight: 600;">$2,884.62</span>
                        <span style="margin-left: 12px; font-size: 0.75rem; padding: 4px 10px; border-radius: 20px; background: rgba(39, 174, 96, 0.1); color: #27ae60;">Completed</span>
                    </div>
                    <div style="display: flex; padding: 14px 16px; border-bottom: 1px solid #f0f0f0;">
                        <span style="width: 100px; color: #888;">Dec 4</span>
                        <span style="flex: 1;">Bi-weekly payroll</span>
                        <span style="font-weight: 600;">$2,884.62</span>
                        <span style="margin-left: 12px; font-size: 0.75rem; padding: 4px 10px; border-radius: 20px; background: rgba(39, 174, 96, 0.1); color: #27ae60;">Completed</span>
                    </div>
                    <div style="display: flex; padding: 14px 16px;">
                        <span style="width: 100px; color: #888;">Nov 20</span>
                        <span style="flex: 1;">Bi-weekly payroll</span>
                        <span style="font-weight: 600;">$2,884.62</span>
                        <span style="margin-left: 12px; font-size: 0.75rem; padding: 4px 10px; border-radius: 20px; background: rgba(39, 174, 96, 0.1); color: #27ae60;">Completed</span>
                    </div>
                </div>
            `;
            
            document.getElementById('personDetailModal').classList.add('active');
        }

        // Invoice Detail
        function openInvoiceDetail(invoiceId) {
            document.getElementById('invoiceDetailContent').innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 24px; padding-bottom: 24px; border-bottom: 1px solid #eee;">
                    <div>
                        <h3 style="font-size: 1.3rem; font-weight: 600;">AWS Services</h3>
                        <div style="color: #888;">Invoice #4521 ‚Ä¢ Received Dec 10, 2024</div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 2rem; font-weight: 700;">$2,847.00</div>
                        <div style="font-size: 0.85rem; color: #888;">Due Dec 25, 2024</div>
                    </div>
                </div>
                
                <div style="border: 1px solid #eee; border-radius: 12px; overflow: hidden; margin-bottom: 24px;">
                    <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; padding: 12px 16px; background: #f5f7fa; font-size: 0.8rem; color: #888;">
                        <span>Description</span>
                        <span>Qty</span>
                        <span>Rate</span>
                        <span>Amount</span>
                    </div>
                    <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; padding: 14px 16px; border-bottom: 1px solid #f0f0f0;">
                        <span>EC2 Instances (m5.large)</span>
                        <span>720 hrs</span>
                        <span>$0.096</span>
                        <span style="font-weight: 600;">$69.12</span>
                    </div>
                    <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; padding: 14px 16px; border-bottom: 1px solid #f0f0f0;">
                        <span>S3 Storage</span>
                        <span>500 GB</span>
                        <span>$0.023</span>
                        <span style="font-weight: 600;">$11.50</span>
                    </div>
                    <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; padding: 14px 16px;">
                        <span>Data Transfer</span>
                        <span>2 TB</span>
                        <span>$0.09</span>
                        <span style="font-weight: 600;">$180.00</span>
                    </div>
                </div>
                
                <div style="background: #f5f7fa; border-radius: 12px; padding: 20px;">
                    <div style="display: flex; justify-content: space-between; padding: 8px 0;">
                        <span>Subtotal</span>
                        <span>$2,607.27</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0;">
                        <span>Tax</span>
                        <span>$239.73</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 12px 0; margin-top: 8px; border-top: 1px solid #ddd; font-size: 1.1rem; font-weight: 600;">
                        <span>Total</span>
                        <span>$2,847.00</span>
                    </div>
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: 16px; flex-wrap: wrap;">
                    <span style="background: rgba(39, 174, 96, 0.1); color: #27ae60; padding: 6px 12px; border-radius: 6px; font-size: 0.8rem;">‚úì Auto-matched to PO #1234</span>
                    <span style="background: rgba(52, 152, 219, 0.1); color: #3498db; padding: 6px 12px; border-radius: 6px; font-size: 0.8rem;">‚úì Verified vendor</span>
                </div>
            `;
            document.getElementById('invoiceDetailModal').classList.add('active');
        }

        // Batch Payment
        function executeBatchPayment() {
            closeModal('batchPaymentModal');
            showToast('‚úì Batch payment of $8,597 initiated!', 'success');
            setTimeout(() => {
                showToast('AWS Services: $2,847 sent via ACH', 'success');
            }, 1000);
            setTimeout(() => {
                showToast('Office Supplies Co: $1,250 sent via ACH', 'success');
            }, 2000);
            setTimeout(() => {
                showToast('Anna Martinez: $4,500 sent via USDC', 'success');
            }, 3000);
        }

        // Daily Pay
        function approveDailyPay(person) {
            event.stopPropagation();
            const amounts = { mike: '$500', lisa: '$300' };
            showToast(`‚úì Daily Pay approved: ${amounts[person]} sent to ${person === 'mike' ? 'Mike Rodriguez' : 'Lisa Thompson'}`, 'success');
        }

        function approveDailyPayFromDetail(personId) {
            closeModal('personDetailModal');
            const person = peopleData[personId];
            showToast(`‚úì Daily Pay approved: ${person.pendingRequest} sent to ${person.name}`, 'success');
        }

        function approveAllDailyPay() {
            showToast('‚úì All Daily Pay requests approved: $800 total', 'success');
        }

        // Toast Notifications
        function showToast(message, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.style.cssText = `
                background: #1a1a2e;
                color: white;
                padding: 16px 24px;
                border-radius: 12px;
                margin-top: 10px;
                box-shadow: 0 10px 40px rgba(0,0,0,0.3);
                animation: slideIn 0.3s ease-out;
                border-left: 4px solid ${type === 'success' ? '#27ae60' : type === 'warning' ? '#f39c12' : '#e74c3c'};
            `;
            toast.textContent = message;
            container.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease-out forwards';
                setTimeout(() => toast.remove(), 300);
            }, 4000);
        }

        // Add Person Flow
        let selectedWorkerType = null;
        let addPersonCurrentStep = 1;

        function resetAddPersonModal() {
            addPersonCurrentStep = 1;
            selectedWorkerType = null;
            document.querySelectorAll('[id^="addPersonStep"]').forEach(step => step.classList.add('hidden'));
            document.getElementById('addPersonStep1').classList.remove('hidden');
            document.querySelectorAll('#addPersonStep1 .type-option').forEach(opt => opt.classList.remove('selected'));
            document.getElementById('addPersonNextBtn').disabled = true;
            document.getElementById('addPersonNextBtn').textContent = 'Continue';
            document.getElementById('addPersonFooter').classList.remove('hidden');
        }

        function selectWorkerType(type, el) {
            selectedWorkerType = type;
            document.querySelectorAll('#addPersonStep1 .type-option').forEach(opt => opt.classList.remove('selected'));
            el.classList.add('selected');
            document.getElementById('addPersonNextBtn').disabled = false;
        }

        function nextAddPersonStep() {
            addPersonCurrentStep++;
            
            document.querySelectorAll('[id^="addPersonStep"]').forEach(step => step.classList.add('hidden'));
            
            if (addPersonCurrentStep === 2) {
                document.getElementById('addPersonStep2').classList.remove('hidden');
            } else if (addPersonCurrentStep === 3) {
                document.getElementById('addPersonStep3').classList.remove('hidden');
                document.getElementById('addPersonNextBtn').disabled = true;
                
                setTimeout(() => {
                    addPersonCurrentStep = 4;
                    document.getElementById('addPersonStep3').classList.add('hidden');
                    document.getElementById('addPersonStep4').classList.remove('hidden');
                    document.getElementById('addPersonNextBtn').disabled = false;
                    document.getElementById('addPersonNextBtn').textContent = 'Send Contract';
                    
                    const name = document.getElementById('contractorName').value || 'Alex Johnson';
                    const work = document.getElementById('workDescription').value || 'UI/UX design for mobile app redesign';
                    document.getElementById('contractName').textContent = name;
                    document.getElementById('contractWork').textContent = work;
                }, 2000);
            } else if (addPersonCurrentStep === 5) {
                document.getElementById('addPersonStep5').classList.remove('hidden');
                document.getElementById('addPersonFooter').classList.add('hidden');
                showToast('‚úì Contract sent successfully!', 'success');
            }
        }

        // Filter functions
        function filterPeople(filter) {
            document.querySelectorAll('#peopleTab .filter-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            document.querySelectorAll('.person-row').forEach(row => {
                const type = row.getAttribute('data-type');
                if (filter === 'all' || (filter === 'employees' && type === 'w2') || (filter === 'contractors' && type === 'contractor')) {
                    row.style.display = 'flex';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        function searchPeople() {
            const query = document.getElementById('peopleSearch').value.toLowerCase();
            document.querySelectorAll('.person-row').forEach(row => {
                const name = row.getAttribute('data-name').toLowerCase();
                row.style.display = name.includes(query) ? 'flex' : 'none';
            });
        }

        // Utility functions
        function toggleInvoiceCheck(el) {
            event.stopPropagation();
            el.classList.toggle('checked');
            el.textContent = el.classList.contains('checked') ? '‚úì' : '';
        }

        function editPerson() {
            closeModal('personDetailModal');
            showToast('Edit mode coming soon!', 'warning');
        }

        function approveInvoice() {
            closeModal('invoiceDetailModal');
            showToast('‚úì Invoice approved and queued for payment', 'success');
        }

        function saveInvoice() {
            closeModal('addInvoiceModal');
            showToast('‚úì Invoice added successfully', 'success');
        }

        function selectImportMethod(el, method) {
            document.querySelectorAll('#importModal .import-option').forEach(opt => {
                opt.style.borderColor = '#e0e0e0';
                opt.style.background = 'white';
            });
            el.style.borderColor = '#27ae60';
            el.style.background = 'rgba(39, 174, 96, 0.05)';
        }

        function startImport() {
            closeModal('importModal');
            showToast('Import started...', 'success');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Add animation keyframes
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>
